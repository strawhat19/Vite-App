import{r as l,j as r,a as e,b as v,v as Q,B as V,I as W}from"./client.2bd1e792.js";const ae=()=>{let[b,u]=l.exports.useState(!1),[p,w]=l.exports.useState(0),[j,X]=l.exports.useState(!1),[i,Z]=l.exports.useState("production"),S=t=>L(t),g=()=>window.scrollY>0?u(!0):u(!1),[c,L]=l.exports.useState(JSON.parse(localStorage.getItem("projects"))||[]);function f(t){let s=t.getHours(),a=t.getMinutes(),d=s>=12?"PM":"AM";s=s%12,s=s||12,a=a<10?"0"+a:a;let h=s+":"+a+" "+d;return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+h}const x=async()=>{let t="strawhat19";const s=`https://api.github.com/users/${t}/repos`,a=`https://api.github.com/users/${t}`,d=JSON.parse(localStorage.getItem("repositories"))||[],h=await fetch(s),N=await fetch(a);if(!N.ok||!h.ok)console.log("Fetch Error"),console.clear();else{const _=await N.json(),k=await h.json(),{name:P,html_url:D,bio:T,blog:y,avatar_url:H,login:I,public_repos:C,repos_url:M,starred_url:R,followers:U,following:A}=_;k.sort((n,o)=>new Date(o.created_at).getTime()-new Date(n.created_at).getTime()).map(n=>{const{name:o,html_url:E,created_at:J,owner:O,topics:$,license:B,updated_at:F,deployments_url:z,language:Y,homepage:q,description:G}=n,K={name:o,owner:O,url:E,topics:$,date:J,license:B,updated:F,homepage:q,language:Y,deployment:z,description:G};d.push(K)});const m={name:P,url:D,bio:T,projects:d.sort((n,o)=>new Date(o.date).getTime()-new Date(n.date).getTime()),website:y,avatar:H,login:I,repoLink:M,repoNum:C,starred:R,followers:U,following:A,lastUpdated:f(new Date)};S(m.projects),console.log("Updated Projects",m.projects),localStorage.setItem("user",JSON.stringify(m)),localStorage.setItem("projects",JSON.stringify(m.projects))}};return l.exports.useEffect(()=>{(p==0||j)&&(w(p++),c.length==0?x():console.log("Projects",c)),window.addEventListener("scroll",t=>(g(),()=>window.removeEventListener("scroll",s=>{g()})))},[]),r(l.exports.Suspense,{children:[i!="development"&&e("header",{className:b?"scrolledHeader":"topHeader",children:e("div",{className:"inner",children:r("div",{className:"navigation",children:[e("a",{title:"Home",className:"homeLink",href:"../",children:e(v.exports.LazyLoadImage,{effect:"blur",src:Q,id:"logo",className:"logo",alt:"logo",width:"100px",height:"auto"})}),r("ul",{children:[e("li",{className:"navigation-tab",children:e("a",{className:"current active hoverLink",href:"../",children:"Home"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../about",children:"About"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../projects",children:"Projects"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../contact",children:"Contact"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../piratechs",children:"Piratechs"})})]})]})})}),i=="production"&&e(V,{}),r("main",{className:`App ${i=="production"?"content":""}`,id:"App",children:[i=="production"&&e(W,{}),e("h1",{children:"Projects"}),e("div",{className:"projects",children:c.length>0&&c.map((t,s)=>r("div",{className:"project",children:[r("div",{className:"projectHeader",children:[r("div",{className:"headerTop",children:[r("a",{href:t.url,target:"_blank",className:"projectName hoverLink",children:[e("i",{className:"fab fa-github"})," ",t.name]}),e("span",{className:"index",children:s+1})]}),r("div",{className:"projectBy",children:[r("a",{href:`https://github.com/${t.owner.login}`,className:"hoverLink",children:[e(v.exports.LazyLoadImage,{effect:"blur",src:t.owner.avatar_url,className:"avatar",alt:"avatar",width:"25px",height:"auto"})," ",t.owner.login]}),e("span",{className:"projectDate",children:f(new Date(t.date))})]})]}),e("div",{className:"projectContent",children:t.description}),e("div",{className:"projectFooter",children:e("div",{className:"topics",children:t.topics.length>0&&t.topics.map(a=>{if(a=="css"||a=="CSS")return e("i",{className:"fab fa-css3-alt"},a);if(a=="html"||a=="HTML")return e("i",{className:"fab fa-html5"},a);if(a=="sass"||a=="SCSS")return e("i",{className:"fab fa-sass"},a);if(a=="javascript")return e("i",{className:"fab fa-js-square"},a);if(a=="angular")return e("i",{className:"fab fa-angular"},a);if(a=="react")return e("i",{className:"fab fa-react"},a);if(a=="php")return e("i",{className:"fab fa-php"},a)})})})]},t.name))})]})]})};export{ae as P};
