import{r as n,j as s,a as e,b as L,v as K,B as Q,I as V}from"./client.8c10fd4f.js";const ee=()=>{let[j,u]=n.exports.useState(!1),[g,h]=n.exports.useState([]),[i,v]=n.exports.useState(0),[_,W]=n.exports.useState(!1),[m,X]=n.exports.useState("production"),N=()=>window.scrollY>0?u(!0):u(!1);function p(t){let a=t.getHours(),r=t.getMinutes(),c=a>=12?"PM":"AM";a=a%12,a=a||12,r=r<10?"0"+r:r;let d=a+":"+r+" "+c;return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+d}const x=async()=>{let t="strawhat19";const a=`https://api.github.com/users/${t}/repos`,r=`https://api.github.com/users/${t}`,c=JSON.parse(localStorage.getItem("repositories"))||[],d=await fetch(a),f=await fetch(r);if(!f.ok||!d.ok)console.log("Fetch Error"),console.clear();else{const S=await f.json(),w=await d.json();console.log("Github Repos",w.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()));const{name:D,html_url:k,bio:P,blog:T,avatar_url:I,login:y,public_repos:H,repos_url:R,starred_url:U,followers:M,following:A}=S;w.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()).map(o=>{const{name:l,html_url:C,created_at:E,owner:J,topics:O,license:$,updated_at:B,deployments_url:G,language:z,homepage:F,description:Y}=o,q={name:l,owner:J,url:C,topics:O,date:E,license:$,updated:B,homepage:F,language:z,deployment:G,description:Y};c.push(q)});const b={name:D,url:k,bio:P,projects:c.sort((o,l)=>new Date(l.date).getTime()-new Date(o.date).getTime()),website:T,avatar:I,login:y,repoLink:R,repoNum:H,starred:U,followers:M,following:A,lastUpdated:p(new Date)};h(b.projects),localStorage.setItem("user",JSON.stringify(b))}};return n.exports.useEffect(()=>{const t=JSON.parse(localStorage.getItem("user"))||{};(i==0||_)&&(v(i++),p(new Date).split(" ")[0]!=t.lastUpdated.split(" ")[0]?x():i==0&&(h(t.projects),console.log("Github User",t),console.log("Projects",g))),window.addEventListener("scroll",a=>(N(),()=>window.removeEventListener("scroll",r=>{N()})))},[i,v,g,h]),s(n.exports.Suspense,{children:[m!="development"&&s("header",{className:j?"scrolledHeader":"topHeader",children:[e("div",{className:"inner",children:s("div",{className:"navigation",children:[e("a",{title:"Home",className:"homeLink",href:"../",children:e(L.exports.LazyLoadImage,{effect:"blur",src:K,id:"logo",className:"logo",alt:"logo",width:"100px",height:"auto"})}),s("ul",{children:[e("li",{className:"navigation-tab",children:e("a",{className:"current active hoverLink",href:"../",children:"Home"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../about",children:"About"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../projects",children:"Projects"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../contact",children:"Contact"})}),e("li",{className:"navigation-tab",children:e("a",{className:"hoverLink",href:"../piratechs",children:"Piratechs"})})]})]})}),e(Q,{})]}),s("main",{className:`App${m=="production"?"content":""}`,id:"App",children:[m=="production"&&e(V,{}),e("h1",{children:"Projects"}),e("div",{className:"projects",children:JSON.parse(localStorage.getItem("user")).projects.map((t,a)=>s("div",{className:"project",children:[s("div",{className:"projectHeader",children:[s("a",{href:t.url,target:"_blank",className:"projectName hoverLink",children:[e("i",{className:"fas fa-project-diagram"})," ",t.name]}),e("span",{className:"index",children:a+1}),s("div",{className:"projectBy",children:[s("a",{href:`https://github.com/${t.owner.login}`,className:"hoverLink",children:[e(L.exports.LazyLoadImage,{effect:"blur",src:t.owner.avatar_url,className:"avatar",alt:"avatar",width:"25px",height:"auto"})," ",t.owner.login]}),e("span",{className:"projectDate",children:p(new Date(t.date))})]})]}),e("div",{className:"projectContent",children:t.description})]},t.name))})]})]})};export{ee as P};
