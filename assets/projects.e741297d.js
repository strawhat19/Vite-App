import{r as n,j as s,a as t,b,v as Q,B as V,I as W}from"./client.8c10fd4f.js";const te=()=>{let[j,m]=n.exports.useState(!1),[h,u]=n.exports.useState(0),[S,X]=n.exports.useState(!1),[i,Z]=n.exports.useState("production"),L=e=>_(e),g=()=>window.scrollY>0?m(!0):m(!1),[N,_]=n.exports.useState(JSON.parse(localStorage.getItem("user")).projects||[]);function p(e){let a=e.getHours(),r=e.getMinutes(),c=a>=12?"PM":"AM";a=a%12,a=a||12,r=r<10?"0"+r:r;let d=a+":"+r+" "+c;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+d}const x=async()=>{let e="strawhat19";const a=`https://api.github.com/users/${e}/repos`,r=`https://api.github.com/users/${e}`,c=JSON.parse(localStorage.getItem("repositories"))||[],d=await fetch(a),v=await fetch(r);if(!v.ok||!d.ok)console.log("Fetch Error"),console.clear();else{const D=await v.json(),w=await d.json();console.log("Github Repos",w.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()));const{name:k,html_url:P,bio:I,blog:T,avatar_url:y,login:H,public_repos:J,repos_url:O,starred_url:R,followers:U,following:M}=D;w.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()).map(o=>{const{name:l,html_url:A,created_at:C,owner:E,topics:$,license:B,updated_at:G,deployments_url:z,language:F,homepage:Y,description:q}=o,K={name:l,owner:E,url:A,topics:$,date:C,license:B,updated:G,homepage:Y,language:F,deployment:z,description:q};c.push(K)});const f={name:k,url:P,bio:I,projects:c.sort((o,l)=>new Date(l.date).getTime()-new Date(o.date).getTime()),website:T,avatar:y,login:H,repoLink:O,repoNum:J,starred:R,followers:U,following:M,lastUpdated:p(new Date)};L(f.projects),localStorage.setItem("user",JSON.stringify(f))}};return n.exports.useEffect(()=>{const e=JSON.parse(localStorage.getItem("user"))||[];(h==0||S)&&(u(h++),e.length==0||p(new Date).split(" ")[0]!=e.lastUpdated.split(" ")[0]?(x(),console.log("Projects New",N)):(console.log("Github User",e),console.log("Projects",N))),window.addEventListener("scroll",a=>(g(),()=>window.removeEventListener("scroll",r=>{g()})))},[h,u]),s(n.exports.Suspense,{children:[i!="development"&&t("header",{className:j?"scrolledHeader":"topHeader",children:t("div",{className:"inner",children:s("div",{className:"navigation",children:[t("a",{title:"Home",className:"homeLink",href:"../",children:t(b.exports.LazyLoadImage,{effect:"blur",src:Q,id:"logo",className:"logo",alt:"logo",width:"100px",height:"auto"})}),s("ul",{children:[t("li",{className:"navigation-tab",children:t("a",{className:"current active hoverLink",href:"../",children:"Home"})}),t("li",{className:"navigation-tab",children:t("a",{className:"hoverLink",href:"../about",children:"About"})}),t("li",{className:"navigation-tab",children:t("a",{className:"hoverLink",href:"../projects",children:"Projects"})}),t("li",{className:"navigation-tab",children:t("a",{className:"hoverLink",href:"../contact",children:"Contact"})}),t("li",{className:"navigation-tab",children:t("a",{className:"hoverLink",href:"../piratechs",children:"Piratechs"})})]})]})})}),i=="production"&&t(V,{}),s("main",{className:`App${i=="production"?"content":""}`,id:"App",children:[i=="production"&&t(W,{}),t("h1",{children:"Projects"}),t("div",{className:"projects",children:JSON.parse(localStorage.getItem("user")).projects.length>0&&JSON.parse(localStorage.getItem("user")).projects.map((e,a)=>s("div",{className:"project",children:[s("div",{className:"projectHeader",children:[s("a",{href:e.url,target:"_blank",className:"projectName hoverLink",children:[t("i",{className:"fas fa-project-diagram"})," ",e.name]}),t("span",{className:"index",children:a+1}),s("div",{className:"projectBy",children:[s("a",{href:`https://github.com/${e.owner.login}`,className:"hoverLink",children:[t(b.exports.LazyLoadImage,{effect:"blur",src:e.owner.avatar_url,className:"avatar",alt:"avatar",width:"25px",height:"auto"})," ",e.owner.login]}),t("span",{className:"projectDate",children:p(new Date(e.date))})]})]}),t("div",{className:"projectContent",children:e.description})]},e.name))})]})]})};export{te as P};
